# 成果物マスキングチェッカー

公共調達における提案書類のマスキング漏れを検出するための画面モックツールです。

## 概要

公共調達の提案書を提出する前に、社名・人名・案件名などの固有名詞がマスキングされているかをチェックするためのWebアプリケーションです。完全一致検索とAI検知パターンマッチングの2つの方法で、マスキング漏れの可能性がある箇所を検出します。

## 主な機能

### 1. NGワード設定
- NGワードの登録・削除
- カテゴリ別管理（会社名、人名、案件名、システム名、その他）
- カテゴリ別アコーディオン表示（開閉可能）
- デフォルトで16件のNGワードを登録済み

### 2. ファイルチェック
- ドラッグ&ドロップによるファイルアップロード
- ファイル選択ダイアログからのアップロード
- 対応形式: PDF, PowerPoint, Word, Excel
- アップロード済みファイルの一覧表示と削除
- チェック開始ボタン（処理シミュレーション）

### 3. 検出結果表示
- サマリーカード
  - チェック対象ファイル数
  - 検出件数（完全一致/AI検知の内訳）
  - ステータス（検出あり/なし）
- フィルタ機能
  - 検出種別フィルタ（すべて/完全一致のみ/AI検知のみ）
  - ファイル名フィルタ
- 検出結果テーブル
  - 種別、検出文言、検知理由、ファイル名、該当箇所、周辺テキスト
  - 検出文言のハイライト表示
  - 行クリックで詳細モーダルを表示

### 4. 詳細モーダル
- 検出種別
- 検出文言
- 検知理由（AI検知の場合）
- ファイル名と該当箇所
- 全文表示（検出文言をハイライト）

## 技術スタック

- **フレームワーク**: React 18 + TypeScript
- **ビルドツール**: Vite
- **スタイリング**: Tailwind CSS
- **ルーティング**: React Router v6

## セットアップ

### 前提条件
- Node.js (推奨: v18以上)
- npm

### インストール手順

1. 依存関係のインストール
```bash
npm install
```

2. 開発サーバーの起動
```bash
npm run dev
```

3. ブラウザでアクセス
```
http://localhost:5174/
```

### ビルド

プロダクションビルドを作成する場合:
```bash
npm run build
```

ビルド結果のプレビュー:
```bash
npm run preview
```

## 使い方

### 1. NGワードの設定

1. ナビゲーションバーの「NGワード設定」をクリック
2. 入力フォームにNGワードを入力
3. カテゴリを選択
4. 「追加」ボタンをクリック（またはEnterキーを押す）
5. 登録済みNGワードは、カテゴリ別にアコーディオン形式で表示されます
6. カテゴリ名をクリックすると、該当カテゴリのNGワードリストを開閉できます
7. 不要なNGワードは「削除」ボタンで削除できます

### 2. ファイルのチェック

1. ナビゲーションバーの「ファイルチェック」をクリック
2. ファイルをドラッグ&ドロップ、または「ファイルを選択」ボタンからアップロード
3. アップロードされたファイルが一覧表示されます
4. 「チェック開始」ボタンをクリック
5. 処理完了後、自動的に検出結果ページに遷移します

### 3. 検出結果の確認

1. サマリーカードで全体状況を確認
2. フィルタを使用して、特定の検出種別やファイルに絞り込み
3. テーブルの行をクリックすると、詳細モーダルが開きます
4. 詳細モーダルで全文と検出文言のハイライトを確認

## デフォルトNGワード

以下のNGワードがデフォルトで登録されています:

**会社名:**
- シンプレクス
- simplex
- クロスピア
- Xpear
- デジタル庁
- デジ庁
- 厚生労働省
- 厚労省
- 農林水産省
- 農水省

**人名:**
- 八幡
- 金光
- 和田
- 谷

**案件名:**
- assam

**システム名:**
- 認定支援

## ダミーデータ

**どんなファイル名でもチェック可能です。**

アップロードされたファイルに対して、自動的にダミーコンテンツを生成し、検出結果を表示します。

- ファイル数に応じて、それぞれのファイルに対して8-14ページ分のコンテンツを動的に生成
- 登録されているNGワードをカテゴリに応じて適切な文脈で挿入
- AI検知パターンも含めた自然なビジネス文書を生成

## 検出ロジック

### 完全一致検索
登録されたNGワードと完全一致する文字列を検出します。

### AI検知パターン
以下のパターンを検知し、マスキング漏れの可能性として警告します:

- 「弊社」「当社」→ 自社を示す表現
- 「我々」→ 自社を示す表現の可能性
- 「A社」「B社」など → 会社名の伏字の可能性
- 「A氏」「B氏」など → 人名の伏字の可能性
- 「〇〇」「△△」→ マスキング漏れの可能性
- 「様向け」→ 顧客名を含む可能性

### カテゴリ別テンプレート

NGワードのカテゴリに応じて、適切な文脈でダミーコンテンツを生成します:

**会社名の場合（10種類のテンプレート）:**
- 「〇〇が推進するガバメントクラウド構想に準拠」
- 「〇〇様のシステム更改プロジェクトを担当した実績」
- 「株式会社〇〇との共同研究により開発」
- 「〇〇のAPI規格に完全準拠」など

**人名の場合（7種類のテンプレート）:**
- 「PM:〇〇（PMP資格保有）を配置」
- 「アーキテクト担当として〇〇（経験12年）が設計」
- 「インフラ設計は〇〇（AWS認定資格保有）が担当」など

**案件名の場合（4種類のテンプレート）:**
- 「〇〇プロジェクトでは、アジャイル開発手法を適用」
- 「〇〇案件で培った知見を活かし」など

**システム名の場合（4種類のテンプレート）:**
- 「〇〇システムについては、同規模自治体様での導入実績」
- 「〇〇システムの構築経験を活かし」など

## ディレクトリ構造

```
src/
├── components/          # 共通コンポーネント
│   ├── Layout.tsx      # レイアウトコンポーネント
│   └── DetectionModal.tsx  # 検出詳細モーダル
├── pages/              # ページコンポーネント
│   ├── NgWordsPage.tsx # NGワード設定ページ
│   ├── CheckPage.tsx   # ファイルチェックページ
│   └── ResultsPage.tsx # 検出結果ページ
├── context/            # Context API
│   └── AppContext.tsx  # アプリケーション状態管理
├── data/               # ダミーデータ
│   └── dummyData.ts    # NGワード、ファイル内容、AI検知パターン
├── utils/              # ユーティリティ
│   └── checkLogic.ts   # チェック処理ロジック
├── types.ts            # 型定義
├── App.tsx             # アプリケーションルート
├── main.tsx            # エントリーポイント
└── index.css           # グローバルスタイル
```

## 注意事項

- これは画面モックであり、実際のファイル解析機能は実装されていません
- チェック処理は1.5秒のシミュレーション待機時間の後、動的に生成されたダミーデータを使用して結果を表示します
- 実際のPDF/Office文書の解析は行われません
- アップロードされたファイルの内容は読み取らず、ファイル名と拡張子のみを使用してダミーコンテンツを生成します
- 検出結果は毎回ランダムに生成されるため、同じファイルでも実行ごとに異なる結果が表示されます

## ライセンス

このプロジェクトはサンプル実装です。
